# üí° Copilot Prompt: MindShore Project Catalog Website ‚Äî Full Specification

> **Save as** `COPILOT_SPEC.md` at the project root (e.g., `/dev main/demo_mindshore/COPILOT_SPEC.md`).  
> This document is the single source of truth for GitHub Copilot. Generate files, code, and scripts exactly as specified below.

---

## 0) Purpose & Constraints

- Build a production-ready **Project Catalog** for **MindShore (mindshore.io)**.  
- Use **Clouds On Mars Catalog** as **inspiration for layout only** (cards, filters, clean grid, lightweight detail). Do **not** copy code or content.  
- **Brand**: align with MindShore (colors, feel, typography, logo). If exact tokens are unknown at generation time, create CSS variables that are easy to tweak.  
- **Confidentiality**: do **not** show real client names; use **industry descriptors** instead (see anonymization).  
- **Initial category**: **Data & AI**. Design the **taxonomy** to be easily extensible (future categories like ‚ÄúSoftware Engineering‚Äù, ‚ÄúERP/CRM‚Äù, etc.).  
- **Dev port policy (strict)**: close previously used local ports, run on **one fixed port**, and **reuse** it on every run (no new ports).

---

## 1) Tech Stack & Tooling

- **Runtime**: Node 18+
- **Framework**: **Vite + React + TypeScript** (SPA). (If Next.js is selected later, mirror the same constraints.)
- **Styling**: **Tailwind CSS**, theme via CSS variables in `src/theme.css`.
- **Icons**: Lucide (as needed) via `lucide-react`.
- **State**: Local component state + simple utilities; no heavy state libraries.
- **Images**: in `public/projects/*`. Use `<img loading="lazy">` and responsive sizing.
- **Testing**: **Playwright** (smoke + interaction), **Vitest** optional for units.
- **Lint/Format**: ESLint + Prettier (sane defaults).
- **CI (optional)**: GitHub Actions workflow for build + tests.
- **License**: MIT; add `LICENSE` + `CONTRIBUTING.md`.
- **Git**: add `.gitignore` (Node, logs, dist, coverage, .DS_Store, etc.).

---

## 2) Dev Server ‚Äî Single Fixed Port

- **Port**: `5173` (Vite).  
- **Never** open new ports on conflict. **Always** reuse the same port.  
- **Kill before run**: close **all previously used local dev ports** and the fixed port if busy.

**package.json (scripts)**
```json
{
  "scripts": {
    "predev": "kill-port 5173 || true",
    "dev": "vite --port 5173 --strictPort",
    "build": "tsc -b && vite build",
    "preview": "vite preview --port 5173 --strictPort",
    "ingest": "tsx scripts/ingest-docx.ts",
    "test": "playwright test"
  },
  "devDependencies": {
    "kill-port": "^2",
    "tsx": "^4",
    "playwright": "^1",
    "eslint": "^9",
    "eslint-config-prettier": "^9",
    "prettier": "^3",
    "@types/node": "^22",
    "tailwindcss": "^3",
    "postcss": "^8",
    "autoprefixer": "^10",
    "typescript": "^5",
    "vite": "^5"
  },
  "dependencies": {
    "react": "^18",
    "react-dom": "^18",
    "mammoth": "^1"
  }
}
```

**VS Code settings**
```json
{
  "liveServer.settings.port": 5173,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "files.eol": "\n",
  "typescript.tsdk": "node_modules/typescript/lib"
}
```

*(Optionally add `scripts/kill-ports.mjs` to close a set of common dev ports [3000,5173,5174,8080,8000,4200] before each run; keep `predev` calling it.)*

---

## 3) Project Structure

```
/.vscode/settings.json
/public/favicon.ico
/public/projects/                 # images extracted from DOCX
/public/projects.json             # generated by ingest
/scripts/ingest-docx.ts
/src/components/
  Header.tsx
  Footer.tsx
  FilterBar.tsx
  ProjectCard.tsx
  ProjectModal.tsx
  Tag.tsx
  KpiChip.tsx
  Logo.tsx
/src/lib/
  anonymize.ts
  search.ts
  schema.ts
/src/pages/                       # optional if routing is added later
/src/App.tsx
/src/main.tsx
/src/styles.css
/src/theme.css
index.html
package.json
tsconfig.json
vite.config.ts
tailwind.config.js
postcss.config.js
README.md
CONTRIBUTING.md
LICENSE
.gitignore
```

**index.html**: root container `#root`, proper meta, description, OG tags placeholder.

---

## 4) Branding, Typography & Theme

- **Theme variables** in `src/theme.css`:
```css
:root {
  --brand-bg: #0b0b0c;          /* adjust after sampling mindshore.io */
  --brand-fg: #f5f6f8;
  --surface: #121316;
  --border: #23252b;
  --brand-primary: #3ea6ff;     /* primary accent */
  --brand-accent: #7bd389;      /* secondary accent */
  --brand-muted: #9aa0a6;
}
@media (prefers-color-scheme: light) {
  :root {
    --brand-bg: #ffffff;
    --brand-fg: #121212;
    --surface: #f6f7f8;
    --border: #e5e7eb;
  }
}
```
- **Font stack**: `system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif`.
- **Logo**: add `Logo.tsx` that renders an SVG/PNG placeholder; make it easy to swap.
- **Header**: compact navigation (Catalog / About / Contact‚Üímindshore.io).  
- **Buttons/Chips**: rounded (xl/2xl), subtle hover lift, focus-visible outlines, AA contrast.

---

## 5) Information Architecture & Routes

1. **Home `/`**
   - **Hero/Intro** (1‚Äì2 sentences in English) about MindShore value (generic, non-specific).  
   - **Filter bar**: category chips (initial **Data & AI**) + text search. Future categories should plug in automatically when data contains them.  
   - **Grid of Project Cards**: responsive (1/2/3 columns at breakpoints). Each card: thumbnail, title, anonymized client descriptor, 2‚Äì3 bullet highlights, tags. Click ‚Üí **Project detail**.

2. **Project Detail** (modal over home, with deep-link `#/p/:id` or `/p/:id` if router added)
   - Layout: **Problem ‚Üí Approach ‚Üí Outcomes**, tech stack badges, screenshots carousel, KPI chips.  
   - Close button returns to previous scroll position.  
   - Support direct navigation by URL.

3. **About/Contact**
   - Minimal page with CTA linking to the official contact page.

4. **404**
   - Friendly message + back to catalog.

---

## 6) Data Model & Content

**TypeScript schema (`src/lib/schema.ts`)**
```ts
export type Project = {
  id: string;                                // slug
  title: string;                             // neutral, e.g., ‚ÄúDemand Forecasting Accelerator‚Äù
  client: string;                            // anonymized industry descriptor
  category: "Data & AI" | string;            // default "Data & AI"; allow others later
  summary: string;                           // 1‚Äì2 sentence overview
  problem: string[];
  approach: string[];
  outcomes: string[];
  techStack: string[];                       // Azure, Fabric, Databricks, Power BI, Python, etc.
  tags: string[];                            // forecasting, MLOps, GenAI, HR analytics, etc.
  images: { src: string; alt: string }[];
  date?: string;                             // optional ISO for sorting
};
```

**Data source**: `public/projects.json` (generated).  
**Images**: `public/projects/<id>-*.{png,jpg}` with matching `alt` text.

**Sample seed** (include 3‚Äì5 records).

---

## 7) DOCX Ingestion Pipeline

**Goal**: Convert a single `/content/projects.docx` into `public/projects.json` and copy images to `public/projects/`, with **client anonymization** and basic validation.

**Script**: `scripts/ingest-docx.ts`
- Use `mammoth` to convert DOCX ‚Üí HTML.
- **Parsing convention** (author your DOCX to follow this pattern):
  - Each project begins with **H1** (title).  
  - Under the title, paragraphs follow the section labels (bold or H2/H3 allowed):
    - **Client:** (free text; may contain real names) ‚Üí anonymize.  
    - **Summary:** (1‚Äì2 sentences)  
    - **Problem:** (bulleted list)  
    - **Approach:** (bulleted list)  
    - **Outcomes:** (bulleted list; avoid sensitive figures)  
    - **Tech Stack:** (comma-separated)  
    - **Tags:** (comma-separated)  
    - **Category:** (default to ‚ÄúData & AI‚Äù if missing)
- **Images**: export embedded images; name them `<slug>-01.png` etc.; copy to `public/projects/`; create `alt` by combining title + short label if available.
- **Anonymization** (`src/lib/anonymize.ts`):
  - Replace any real client with an industry descriptor **only** (never brand names). Examples:
    - *‚ÄúAlbocora tuna company‚Äù* ‚Üí **‚ÄúLeading food producer‚Äù**
    - Bank ‚Üí ‚ÄúEuropean commercial bank‚Äù
    - Retail ‚Üí ‚ÄúOmnichannel retailer‚Äù
    - Pharma ‚Üí ‚ÄúGlobal life-sciences company‚Äù
    - Logistics ‚Üí ‚ÄúInternational logistics provider‚Äù
    - Public ‚Üí ‚ÄúGovernment agency‚Äù
  - Strip logos/watermarks; drop EXIF/metadata (images re-encoded on copy if feasible).
- **Validation**:
  - Ensure keys match the schema; **fail** with a readable error if malformed (missing title, empty arrays where required, etc.).
- **Output**: formatted JSON (2 spaces), stable key order.

**Command**
```bash
npm run ingest
```

---

## 8) UI & Interaction Details

- **FilterBar**
  - Props: `categories: string[]`, `selected: string`, `onSelect(c)`, `q: string`, `onQuery(s)`.
  - Renders chips for categories (All + unique values from data) and a search input.
  - Keyboard accessible; focus rings; proper labels.

- **Search & Sort**
  - Search across `title`, `summary`, `client`, `tags` (case-insensitive).
  - Optional sort dropdown: **Newest** (by `date` desc), **A‚ÄìZ** (by `title`).

- **ProjectCard**
  - Thumbnail (first image) with `loading="lazy"`.
  - Category chip, title, client (anonymized), short summary, up to 4 tags.
  - Click opens **ProjectModal**.

- **ProjectModal**
  - Close on overlay click or `Esc`.
  - Focus trap; return focus to the originating card.
  - Sections: **Problem, Approach, Outcomes**, KPI chips, Tech badges, Carousel (keyboard accessible).

- **Empty & Error States**
  - No results ‚Üí show a friendly message and clear-filter action.
  - Data load error ‚Üí retry button + message.

- **Skeletons**
  - Show skeleton cards while `projects.json` is loading.

- **Deep Links**
  - Support `?q=` for search and `?cat=` for category; and `/p/:id` route (or hash) for modal deep link.

---

## 9) Accessibility (A11y)

- Semantic HTML (landmarks: header, main, footer).
- Keyboard navigation for all interactive elements.
- Visible focus outlines; min tap targets 44√ó44px.
- Color contrast **AA** minimum (check chips, buttons, text over surfaces).
- Images: meaningful `alt`; carousel buttons have `aria-label`s.
- Modal: `role="dialog"`, `aria-modal="true"`, labelled by title.

---

## 10) Performance

- Code-splitting where helpful.
- Lazy-load large images; size attributes to avoid layout shift.
- Preload hero font (if any) and critical CSS minimal.
- Lighthouse targets: Perf ‚â• 90, Accessibility ‚â• 90, Best Practices ‚â• 90, SEO ‚â• 90.

---

## 11) SEO & Meta

- `<title>` template: `MindShore | Project Catalog` and `MindShore | <Project Title>` for details.
- `<meta name="description">` concise summary.
- OpenGraph: type `website`, OG title/description, social share image placeholder.
- `robots.txt` basic allow; `sitemap.xml` optional.
- **Privacy**: simple page stating no trackers; anonymization note in footer.

---

## 12) Copy Guidelines (English)

- Tone: concise, expert, friendly.  
- Avoid client-identifying language; use industry descriptors.  
- Use outcome verbs with arrows where helpful (`‚Üë`, `‚Üì`) for KPI chips.  
- Keep summaries 1‚Äì2 sentences. Avoid proprietary claims.

---

## 13) Testing

- **Playwright** basic tests:
  1. Home loads, shows header, renders project grid.
  2. Filtering by category reduces visible cards.
  3. Searching by term filters correctly.
  4. Opening a project shows modal; modal close restores focus to card.
  5. Deep-link to `/p/<id>` opens the correct project.
- Optional: unit tests for `anonymize.ts` and `search.ts`.

---

## 14) Deployment

- **Static hosting** ready (Vite build ‚Üí `/dist`).  
- Commands:
  ```bash
  npm run build
  npm run preview    # same fixed port (5173)
  ```
- Add a minimal GitHub Actions workflow (optional) to run `npm ci && npm run build && npm run test` on main PRs.

---

## 15) Acceptance Criteria (Definition of Done)

1. Dev server **always** uses the **same single port**; earlier ports are killed before run; **no new ports** opened in later iterations.
2. Home page shows company intro, filter/search bar, responsive grid of project cards.
3. Detail view (modal or dedicated page) includes Problem/Approach/Outcomes, tech stack, KPIs, carousel, deep link.
4. `scripts/ingest-docx.ts` converts DOCX + images into `public/projects.json` + `/public/projects/*` with **client anonymization**.
5. Accessibility AA for color contrast and keyboard flows; semantic landmarks; focus management for modal.
6. Lighthouse ‚â• 90 across categories (PWA not required).
7. README explains setup, ingest, build, and port policy clearly.
8. No proprietary logos/names, and a page/footer note stating anonymization.

---

## 16) README Template (generate this file)

**README.md** must include:
- Project intro (what/why)
- Fixed-port policy and commands
- Setup (Node 18+, `npm i`, `npm run dev`)
- Content ingestion steps (`content/projects.docx` ‚Üí `npm run ingest`)
- Build & preview
- Folder structure overview
- Contribution guidelines and code style
- License

---

## 17) Starter Components ‚Äî Minimal Contracts

**Header.tsx**
- Renders logo, nav (Catalog / About / Contact), and theme toggle (optional).

**FilterBar.tsx**
```ts
type Props = {
  categories: string[];
  selected: string;
  onSelect: (c: string) => void;
  q: string;
  onQuery: (s: string) => void;
  onSortChange?: (s: "newest" | "az") => void;
};
```

**ProjectCard.tsx**
- Props: `project: Project`
- Emits click to open modal.

**ProjectModal.tsx**
- Props: `project: Project`, `onClose: () => void`

**Tag.tsx** / **KpiChip.tsx**
- Small visual components.

---

## 18) Security & Privacy

- No client names/logos displayed.
- No tracking scripts by default.
- Remove EXIF/metadata from uploaded images if re-encoding is added; otherwise ensure no sensitive data is present.

---

## 19) Non-Goals (for now)

- CMS integration.
- Auth and user accounts.
- PWA/offline features.
- Server-side rendering (unless moved to Next.js later).

---

## 20) Getting Started (for developers)

```bash
# Create project folder (your local path may include a space)
mkdir -p "/dev main/demo_mindshore"
cd "/dev main/demo_mindshore"

# Initialize from this spec with Copilot assistance
# Then install and run:
npm i
npm run dev   # closes old ports, starts on the fixed port

# Ingest DOCX when ready:
mkdir -p content
# put projects.docx into ./content/
npm run ingest
```
